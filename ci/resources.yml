resources:
  - name: aws-analytical-dataset-generation-pr
    type: pull-request
    source:
      access_token: ((github_com.token))
      repo: dwp/aws-analytical-dataset-generation
      uri: https://github.com/dwp/aws-analytical-dataset-generation.git
    check_every: 15m
  - name: aws-analytical-dataset-generation
    type: git
    source:
      branch: master
      username: ((github_com.username))
      password: ((github_com.token))
      uri: https://github.com/dwp/aws-analytical-dataset-generation.git
    check_every: 15m
  - name: aws-ingestion
    type: git
    source:
      branch: master
      private_key: ((svc-dip.private_key))
      uri: git@github.ucds.io:dip/aws-ingestion.git
    check_every: 720h
    webhook_token: ((ucfs-github.webhook-token))
  - name: aws-management-infrastructure
    type: git
    source:
      branch: master
      private_key: ((svc-dip.private_key))
      uri: git@github.ucds.io:dip/aws-management-infrastructure.git
    check_every: 720h
    webhook_token: ((ucfs-github.webhook-token))
  - name: aws-dataworks-e2e-framework
    type: git
    source:
      branch: master
      private_key: ((svc-dip.private_key))
      uri: git@github.ucds.io:dip/aws-dataworks-e2e-framework.git
    check_every: 720h
    webhook_token: ((ucfs-github.webhook-token))
  - name: aws-internal-compute
    type: git
    source:
      branch: master
      private_key: ((svc-dip.private_key))
      uri: git@github.ucds.io:dip/aws-internal-compute.git
  - name: emr-launcher-release
    type: github-release
    source:
      owner: dwp
      repository: emr-launcher
      access_token: ((github_com.token))
    check_every: 1h
    webhook_token: ((ucfs-github.webhook-token))
  - name: emr-ami
    type: ami
    check_every: 1h
    source:
      aws_access_key_id: ((ci.aws_access_key_id))
      aws_secret_access_key: ((ci.aws_secret_access_key))
      aws_role_arn: "arn:aws:iam::((aws_account.management)):role/ci"
      region: eu-west-2
      filters:
        owner-id: ((aws_account.management))
        is-public: false
        state: available
        name: dw-emr-ami-1578322029
